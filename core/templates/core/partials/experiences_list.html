<div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold">Work & Education Experience</h2>
    <button hx-get="{% url 'create-experience' %}" hx-target="#modal-container" hx-swap="innerHTML"
            class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded">
        Add New Experience
    </button>
</div>

<!-- Work Experience -->
<h3 class="text-2xl font-semibold mb-4 mt-8 text-indigo-400">Work Experience</h3>
<div class="space-y-4">
    {% for exp in work_experiences %}
    <div class="bg-gray-800 p-5 rounded-lg shadow flex justify-between items-start">
        <div>
            <p class="text-lg font-semibold text-white">{{ exp.title }} at <span class="font-bold">{{ exp.company }}</span></p>
            <p class="text-xs text-gray-500">{{ exp.start_date|date:"F Y" }} - {% if exp.end_date %}{{ exp.end_date|date:"F Y" }}{% else %}Present{% endif %}</p>
            <div class="mt-3 text-gray-300 leading-relaxed">{{ exp.description|linebreaks }}</div>
        </div>
        <div class="flex-shrink-0 ml-4">
            <button hx-get="{% url 'update-experience' exp.pk %}" hx-target="#modal-container" hx-swap="innerHTML" class="text-indigo-400 hover:text-indigo-300">Edit</button>
            <button hx-get="{% url 'delete-experience' exp.pk %}" hx-target="#modal-container" hx-swap="innerHTML" class="text-red-400 hover:text-red-300 ml-4">Delete</button>
        </div>
    </div>
    {% empty %}
    <p class="text-gray-500">No work experience found.</p>
    {% endfor %}
</div>

<!-- Education -->
<h3 class="text-2xl font-semibold mb-4 mt-12 text-indigo-400">Education</h3>
<div class="space-y-4">
    {% for edu in education_experiences %}
    <div class="bg-gray-800 p-5 rounded-lg shadow flex justify-between items-start">
        <div>
            <p class="text-lg font-semibold text-white">{{ edu.title }} at <span class="font-bold">{{ edu.company }}</span></p>
            <p class="text-xs text-gray-500">{{ edu.start_date|date:"F Y" }} - {% if edu.end_date %}{{ edu.end_date|date:"F Y" }}{% else %}Present{% endif %}</p>
            <div class="mt-3 text-gray-300 leading-relaxed">{{ edu.description|linebreaks }}</div>
        </div>
        
        {# --- THIS IS THE CORRECTED SECTION WITH BUTTONS --- #}
        <div class="flex-shrink-0 ml-4">
            <button hx-get="{% url 'update-experience' edu.pk %}" hx-target="#modal-container" hx-swap="innerHTML" class="text-indigo-400 hover:text-indigo-300">Edit</button>
            <button hx-get="{% url 'delete-experience' edu.pk %}" hx-target="#modal-container" hx-swap="innerHTML" class="text-red-400 hover:text-red-300 ml-4">Delete</button>
        </div>
        
    </div>
    {% empty %}
    <p class="text-gray-500">No education history found.</p>
    {% endfor %}
</div>